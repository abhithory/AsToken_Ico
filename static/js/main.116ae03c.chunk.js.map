{"version":3,"sources":["components/Navbar.js","components/Main.js","components/App.js","index.js"],"names":["Navbar","withdrawEth","_callee","userAddress","regenerator_default","a","wrap","_context","prev","next","prompt","_this","props","witdrawEth","stop","stopIco","_callee2","_context2","react_default","createElement","className","href","this","account","width","height","src","concat","Identicon","toString","isDeployer","onClick","title","availableEthForWithdraw","Component","Main","getTokenSoldProgress","tokensSold","tokensForSell","buyAsTokens","tokensCount","alertPlaceholder","wrapper","document","getElementById","value","innerHTML","append","rangeValue","rangeValue2","Fragment","style","id","asTokenPrice","asTokenBalance","type","min","max","step","onChange","getValueOfRangeAndSetToInput","getValueOfInputAndSetToRange","placeholder","role","target","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_ref","asyncToGenerator","mark","_callee4","_noOfTokens","valueOfTokens","_context4","setState","loading","state","asTokenPriceWei","asTokenIcoContract","methods","buyTokens","send","from","on","hash","console","log","receipt","confirmationNumber","loadBlockchainData","error","_x","apply","arguments","_ref2","_callee5","_userAddress","_context5","withdraw","_x2","_callee6","_context6","endSale","asTokenContract","connected","bind","assertThisInitialized","loadWeb3","window","ethereum","web3","Web3","enable","currentProvider","eth","getAccounts","accounts","defaultAccount","net","getId","networkId","asTokenNetworkData","AsTokenJson","networks","asTokenNetworkICOData","AsTokenICOJson","Contract","abi","address","admin","balanceOf","toNumber","tokenPrice","utils","fromWei","amountForWithdraw","availableEthForWithdrawWei","components_Navbar","components_Main","alt","ReactDOM","render","src_components_App"],"mappings":"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","file":"static/js/main.116ae03c.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Identicon from 'identicon.js';\r\n\r\nclass Navbar extends Component {\r\n\r\n  withdrawEth = async () => {\r\n    var userAddress = prompt('Enter Your Address Where you want to withdraw Ether');\r\n    if (userAddress) {\r\n      this.props.witdrawEth(userAddress);\r\n    }\r\n  }\r\n\r\n  stopIco = async () => {\r\n\r\n    var userAddress = prompt('Are You Sure? You Want To Stop As Token ICO. Enter 0 for stop ICO');\r\n    if (userAddress == 0) {\r\n      this.props.stopIco();\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n        <div className=\"container\">\r\n          <a className=\"navbar-brand\" href=\"#\"><b>As Token ICO</b></a>\r\n\r\n          <div className=\"ms-auto d-md-flex align-items-center text-light\">\r\n            <h6 className=\"d-md-flex d-none me-2\">{this.props.account}</h6>\r\n            {this.props.account\r\n              ? <img\r\n                className='ml-2'\r\n                width='30'\r\n                height='30'\r\n                src={`data:image/png;base64,${new Identicon(this.props.account, 30).toString()}`}\r\n              />\r\n              : <span></span>\r\n            }\r\n            {this.props.isDeployer\r\n              ?\r\n              <div className=\"\">\r\n\r\n                <button className=\"btn btn-warning mx-2\" onClick={this.withdrawEth} title={`${this.props.availableEthForWithdraw} Ether`}>Widraw Eth</button>\r\n                <button className=\"btn btn-danger mx-2\" onClick={this.stopIco} title={`${this.props.availableEthForWithdraw} Ether`}>Stop Ico</button>\r\n              </div>\r\n\r\n              :\r\n              <div className=\"\"></div>\r\n            }\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </nav>\r\n\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { Component } from 'react';\r\n\r\nclass Main extends Component {\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  getValueOfRangeAndSetToInput() {\r\n    let rangeValue = document.getElementById('wantToBuyTokenRange').value;\r\n    document.getElementById('valueOfRange').value = rangeValue;\r\n  }\r\n  getValueOfInputAndSetToRange() {\r\n    let rangeValue2 = document.getElementById('valueOfRange').value;\r\n    document.getElementById('wantToBuyTokenRange').value = rangeValue2;\r\n  }\r\n\r\n  getTokenSoldProgress = () => {\r\n    let tokenSold = this.props.tokensSold;\r\n    let tokenForSell = this.props.tokensForSell;\r\n\r\n    let progress = (tokenSold / tokenForSell) * 100\r\n    return progress;\r\n  }\r\n\r\n  buyAsTokens = async () => {\r\n\r\n    var tokensCount = document.getElementById('valueOfRange').value;\r\n    if (tokensCount) {\r\n      this.props.buyAsTokens(tokensCount);\r\n    } else {\r\n      var alertPlaceholder = document.getElementById('liveAlertPlaceholder')\r\n      var wrapper = document.createElement('div')\r\n      wrapper.innerHTML = '<div className=\"alert alert-' + 'danger' + ' alert-dismissible\" role=\"alert\">' + 'Please Enter How much tokens do you want??' + '<button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button></div>'\r\n      alertPlaceholder.append(wrapper)\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"d-flex flex-column justify-content-between container text-center\" style={{ height: '100%' }} >\r\n\r\n          {/* top bar */}\r\n          <div id=\"content\" className=\"text-center\" >\r\n            <h1 className=\"mt-5\">\r\n              Welcome to \"<b><i>As</i></b> Token ICO!\"\r\n            </h1>\r\n            <p className=\"\">As Token price is <b className=\"\">{this.props.asTokenPrice}</b> Ether. You currently have <b className=\"\">{this.props.asTokenBalance} AS</b></p>\r\n            <br />\r\n\r\n          </div>\r\n\r\n          {/* body */}\r\n          <div className=\"\">\r\n            <div className=\"slidecontainer\">\r\n              <input type=\"range\" className=\" slider\" id=\"wantToBuyTokenRange\" min=\"1\" max={this.props.tokensForSell - this.props.tokensSold} step=\"1\" onChange={this.getValueOfRangeAndSetToInput} />\r\n            </div>\r\n            <div className=\"d-flex justify-content-center align-items-stretch  mt-3 mb-2 \">\r\n              <div className=\"input-group news-input\" style={{ width: '60%' }}>\r\n                <input onChange={this.getValueOfInputAndSetToRange} id=\"valueOfRange\" placeholder=\"How Much tokens do you want??\" className=\"form-control input-lg\" type=\"number\" min=\"1\" max={this.props.tokensForSell - this.props.tokensSold} />\r\n              </div>\r\n            </div>\r\n            <div id=\"liveAlertPlaceholder\"></div>\r\n\r\n\r\n            <button onClick={this.buyAsTokens} className=\"btn btn-primary btn-lg\" type=\"button\">Buy Token Now</button>\r\n\r\n\r\n          </div>\r\n\r\n          <div className=\"\">\r\n\r\n            <div className=\"progress\">\r\n              <div className=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" style={{ width: `${this.getTokenSoldProgress()}%` }}></div>\r\n\r\n            </div>\r\n            <p>\r\n              <span className=\"token-sold\"></span> {this.props.tokensSold}/{this.props.tokensForSell} <span className=\"tokens-available\"></span> tokens Sold\r\n            </p>\r\n            <hr />\r\n          <a href=\"https://faucet.ropsten.be\" target=\"_blank\" className=\"btn btn-outline-success\">Get free Ether for Ropsten test network</a>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n      </>\r\n\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport AsTokenJson from '../abis/AsToken.json'\nimport AsTokenICOJson from '../abis/AsTokenSale.json'\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './App.css';\nimport Navbar from './Navbar'\nimport Main from './Main'\n\n\nclass App extends Component {\n\n  async componentWillMount() {\n    await this.loadWeb3()\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum)\n      await window.ethereum.enable()\n      await this.loadBlockchainData()\n\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider)\n      await this.loadBlockchainData()\n\n    }\n    else {\n      this.setState({ connected: false })\n      \n    }\n  }\n\n  async loadBlockchainData() {\n    const web3 = window.web3\n    // Load account\n    const accounts = await web3.eth.getAccounts()\n    web3.eth.defaultAccount = accounts[0];\n    this.setState({ account: accounts[0] })\n\n\n    const networkId = await web3.eth.net.getId()\n    const asTokenNetworkData = AsTokenJson.networks[networkId]\n    const asTokenNetworkICOData = AsTokenICOJson.networks[networkId]\n\n    if (asTokenNetworkData && asTokenNetworkICOData) {\n      const asTokenContract = web3.eth.Contract(AsTokenJson.abi, asTokenNetworkData.address);\n      this.setState({ asTokenContract })\n\n      const asTokenIcoContract = web3.eth.Contract(AsTokenICOJson.abi, asTokenNetworkICOData.address);\n      this.setState({ asTokenIcoContract });\n\n      const deployerAddress = await asTokenIcoContract.methods.admin().call();\n      if (deployerAddress == this.state.account) {\n        this.setState({ isDeployer: true })\n      } else {\n        this.setState({ isDeployer: false })\n      }\n\n      const asTokenBalance = await asTokenContract.methods.balanceOf(this.state.account).call();\n      this.setState({ asTokenBalance: asTokenBalance.toNumber() })\n\n      const asTokenPriceWei = await asTokenIcoContract.methods.tokenPrice().call();\n      this.setState({ asTokenPriceWei: asTokenPriceWei.toNumber() })\n\n      const asTokenPrice = web3.utils.fromWei(asTokenPriceWei.toString(), 'ether');\n      this.setState({ asTokenPrice })\n\n      const tokensForSell = await asTokenIcoContract.methods.tokensForSell().call();\n      this.setState({ tokensForSell: tokensForSell.toNumber() })\n\n      const tokensSold = await asTokenIcoContract.methods.tokensSold().call();\n      this.setState({ tokensSold: tokensSold.toNumber() })\n\n      const availableEthForWithdrawWei = await asTokenIcoContract.methods.amountForWithdraw().call();\n      const availableEthForWithdraw = web3.utils.fromWei(availableEthForWithdrawWei.toString(), 'ether');\n      this.setState({ availableEthForWithdraw })\n\n      this.setState({ loading: false })\n\n    } else {\n      this.setState({ connected: false })\n    }\n  }\n\n  buyAsTokens = async (_noOfTokens) => {\n    this.setState({ loading: true })\n\n    const valueOfTokens = this.state.asTokenPriceWei * _noOfTokens;\n    await this.state.asTokenIcoContract.methods.buyTokens(_noOfTokens)\n      .send({ from: this.state.account, value: valueOfTokens })\n      .on('transactionHash', (hash) => {\n        console.log('transactionHash', hash)\n      })\n      .on('receipt', (receipt) => {\n\n      })\n      .on('confirmation', (confirmationNumber, receipt) => {\n        console.log('receipt', receipt)\n        this.loadBlockchainData();\n\n      })\n      .on('error', (error, receipt) => {\n        console.log('error', error)\n        this.loadBlockchainData();\n      });\n  }\n\n  witdrawEth = async (_userAddress) => {\n    console.log(_userAddress)\n\n    await this.state.asTokenIcoContract.methods.withdraw(_userAddress)\n      .send({ from: this.state.account })\n      .on('transactionHash', (hash) => {\n        console.log('transactionHash', hash)\n\n      })\n      .on('receipt', (receipt) => {\n      })\n      .on('confirmation', (confirmationNumber, receipt) => {\n        console.log('receipt', receipt)\n        this.loadBlockchainData();\n\n      })\n      .on('error', (error, receipt) => {\n        console.log('error', error)\n        this.loadBlockchainData();\n      });\n  }\n\n  stopIco = async () => {\n\n    await this.state.asTokenIcoContract.methods.endSale()\n      .send({ from: this.state.account })\n      .on('transactionHash', (hash) => {\n        console.log('transactionHash', hash)\n      })\n      .on('receipt', (receipt) => {\n      })\n      .on('confirmation', (confirmationNumber, receipt) => {\n        console.log('receipt', receipt)\n        this.loadBlockchainData();\n\n      })\n      .on('error', (error, receipt) => {\n        console.log('error', error)\n        this.loadBlockchainData();\n      });\n  }\n\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      asTokenContract: null,\n      asTokenIcoContract: null,\n      asTokenPrice: 0,\n      asTokenPriceWei: 0,\n      asTokenBalance: 0,\n      tokensForSell: 0,\n      tokensSold: 0,\n      availableEthForWithdraw: 0,\n      account: '',\n      isDeployer: false,\n      connected: true,\n      loading: true\n    }\n\n    this.buyAsTokens = this.buyAsTokens.bind(this)\n    this.witdrawEth = this.witdrawEth.bind(this)\n    this.stopIco = this.stopIco.bind(this)\n\n  }\n\n\n  render() {\n    return (\n      <div className=\"d-flex flex-column bg-light bg-gradient\" style={{ height: '100vh' }}>\n        {this.state.connected\n          ?\n          <>\n            <Navbar account={this.state.account} isDeployer={this.state.isDeployer} availableEthForWithdraw={this.state.availableEthForWithdraw} witdrawEth={this.witdrawEth} stopIco={this.stopIco} />\n            {this.state.loading\n              ?\n              <div className=\"text-center m-5\">\n                <div className=\"spinner-border\" role=\"status\">\n                </div>\n              </div>\n              :\n              <Main account={this.state.account} asTokenPrice={this.state.asTokenPrice} asTokenBalance={this.state.asTokenBalance} tokensForSell={this.state.tokensForSell} tokensSold={this.state.tokensSold} buyAsTokens={this.buyAsTokens} />\n            }\n          </>\n          :\n          <div className=\"container text-center\">\n            <h1 className=\"mt-3 text-primary\">Please Connect to Ropsten test network</h1>\n            <a href=\"https://faucet.ropsten.be/\" target=\"_blank\" className=\"btn btn-success\">Get free Ether for Ropsten test network</a>\n            <h4 className=\"my-3\">Follow these instructions for connect metamask with Ropsten test network</h4>\n            <hr/>\n            \n            <h6>1. Install  <a href=\"https://metamask.io/download.html\" target=\"_blank\" className=\"btn btn-outline-primary\">Meta-mask</a></h6>\n            <h6>2. Create Your Account</h6>\n            <h6>3. Connect with Ropsten test network</h6>\n            <h6>4. Get Some Free Ether by Ropsten Faucet</h6>\n            <hr/>\n            <img className=\"img-fluid h-50\" src=\"img/ropston.jpg\" alt=\"\" />\n\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}